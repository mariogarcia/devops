{
    "variables": {
        "user": "admindebian",
        "password": "admindebian",
        "disk_size": "100000",
        "domain": ""
    },
    "builders":
    [
        {
            "type": "qemu",
            "vm_name": "debian9",
            "iso_checksum": "d4a22c81c76a66558fb92e690ef70a5d67c685a08216701b15746586520f6e8e",
            "iso_checksum_type": "sha256",
            "iso_url": "https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-9.9.0-amd64-netinst.iso",
            "output_directory": "output_debian9",
            "shutdown_command": "echo 'packer' | sudo -S shutdown -P now",
            "format": "qcow2",
            "accelerator": "kvm",
            "ssh_username": "{{user `user`}}",
            "ssh_password": "{{user `password`}}",
            "ssh_timeout": "20m",
            "ssh_wait_timeout": "60m",
            "shutdown_command": "echo '{{user `password`}}'|sudo -S shutdown -h now",
            "net_device": "virtio-net",
            "disk_interface": "virtio",
            "disk_size": "{{ user `disk_size` }}",
            "http_directory": "http",
            "boot_wait": "10s",
            "boot_command": [
                "<esc><wait><wait>",
                "install ",

                "auto=true ",
                "priority=critical ",
                "interface=auto ",
                "url=http://{{ .HTTPIP }}:{{ .HTTPPort }}/preseed.cfg ",

                "passwd/user-fullname={{ user `user` }} ",
                "passwd/user-password={{ user `password` }} ",
                "passwd/user-password-again={{ user `password` }} ",
                "passwd/username={{ user `user` }} ",

                "<enter>"
            ]
        }
    ]
}
